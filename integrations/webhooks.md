---
description: This article explains how to configure and use Syskit Point's webhooks.
---

# Webhooks

Webhooks are **push notifications sent by Syskit Point in the form of HTTP requests to a registered webhook endpoint when an important event occurs**.

The following steps should be performed to successfully enable webhooks:

* **Register endpoint** to which Syskit Point will send notifications
* **Get the signature key** to verify the event was generated by Syskit Point

## Register Webhook Endpoint with Syskit Point API

<mark style="color:yellow;">`POST`</mark> \{{baseURL\}}/v1.0/webhooks/endpoints

Use the following POST request to register a webhook endpoint via Syskit Point API

**Headers**

| Name          | Value              |
| ------------- | ------------------ |
| Content-Type  | `application/json` |
| Authorization | `Bearer <token>`   |

**Body**

| Name       | Type   | Description            |
| ---------- | ------ | ---------------------- |
| `endpoint` | string | Webhook endpoint URL   |
| `types`    | array  | Types of notifications |

{% tabs %}
{% tab title="Example" %}


```json
{
  "endpoint": "https://contoso.azurewebsites.net/api/Logger?code=o74oKsbrgHDI-RnekJXdbR3Fba7mZxEmJQNyCIpV6z-ZAzFuwnaWJg==",
  "types": [
    "*"
  ]
}
```
{% endtab %}
{% endtabs %}

{% hint style="info" %}
You can subscribe to all event types by using the `*` symbol, as shown in the example.
{% endhint %}

**Types**

The following types of events can be sent by Syskit Point

| Type                  | Description                                        |
| --------------------- | -------------------------------------------------- |
| ProvisioningStarted   | Triggered when the Provisioning process starts     |
| ProvisioningCompleted | Triggered when the Provisioning process completes. |
| ProvisioningFailed    | Triggered when the Provisioning process fails.     |

**Response**

Successful registration of the webhook endpoint results in response status 200.

{% tabs %}
{% tab title="200" %}
```json
{
    Null
}
```
{% endtab %}
{% endtabs %}

## Webhook Events

Syskit Point sends a POST request to the registered webhook endpoint URL.\
The event object has the following body structure:

{% tabs %}
{% tab title="Body" %}
```json
{
    "type": "type",
    "content": {serializedContent},
    "meta": {
        "timeStamp": "timestamp",
        "idempotencyKey": "key"
    }
}
```
{% endtab %}
{% endtabs %}

Each webhook event also sends two headers:

* **Signature**
  * Contains the signature of the message created by using the hashing algorithm provided in the Algorithm header using a signature key.
* **Algorithm**&#x20;
  * The hashing algorithm which is used to create the message signature.

## Signature Validation

To verify if the notification was sent by Syskit Point:
* **Get the signature key via Syskit Point API**
* **Create signature signature**

To get the signature key, send the following GET request.

<mark style="color:green;">`GET`</mark> \{{baseURL\}}/v1.0/options

**Response**

Successful registration of the webhook endpoint results in response status 200.

{% tabs %}
{% tab title="200" %}
```json
{
    Null
}
```
{% endtab %}
{% endtabs %}
